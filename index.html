<!DOCTYPE html>
<html lang="en">
<head>
  <title>Princeton Plants</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" type="image/ico" href="/static/favicon.ico">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  <style>
    /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
    .row.content {height: 800px}
    
    /* Set gray background color and 100% height */
    .sidenav {
      background-color: #f1f1f1;
      height: 100%;
      width: 300px;
    }
        
    /* On small screens, set height to 'auto' for the grid */
    @media screen and (max-width: 767px) {
      .row.content {height: auto;} 
    }

    html, body{
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    }
    
    #map{
    position: relative; 
    height: 700px;
    }
  </style>
</head>
<body>

<nav class="navbar navbar-inverse visible-xs">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="#">
        <a href="/index"> <img src="/static/logo_with_text.png" height="45" class="d-inline-block align-top" alt="Princeton Plants"></a>
      </a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
        <li class="active"><a href="javascript:markers_in_bounds(1, 1)">Home</a></li>
        <li><a href="javascript:tour()">Guided Tour</a></li>
        <li><a href="/catalog">Catalog</a></li>
        <li><a href="/about">About Us</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container-fluid">
  <div class="row content">
    <div class="col-sm-3 sidenav hidden-xs">
      <br>
      <a href="/index"> <img src="/static/logo_with_text.png" height="50" class="d-inline-block align-top" alt="Princeton Plants"></a>
      <br>
      <ul class="nav nav-pills nav-stacked">
        <li class="active"><a href="javascript:markers_in_bounds(1, 1)">Home</a></li>
        <li><a href="javascript:tour()">Guided Tour</a></li>
        <li><a href="/catalog">Catalog</a></li>
        <li><a href="/about">About Us</a></li>
      </ul><br>
    </div>
    <br>

    <div class="col-sm-9">
      
        <div class="hidden panel panel-primary" style="position: absolute; top: 50%; z-index: 10;" id="useLocationPanel">
            <div class="panel-heading">Welcome to Princeton Plants!</div>
            <div class="panel-body">To get the best possible experience, please allow us to access your location. That way, we can show you some trees in your area and help you get the most out of our guided tour. </div>
            <div class="panel-footer">
              <button class="btn btn-primary" type="button" onclick="requestLocation()">Use my location</button>
              <button class="btn btn-default" type="button" onclick="noLocationRequest()">No, thanks</button>
            </div>
        </div>
      
        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
            Filter By:
        </button>
        <button class="hidden btn btn-primary" type="button" id="locationInstructions">Use my location</button>
        <button class="hidden btn btn-primary" type="button" id="useLocationButton" onclick="requestLocation()">Use my location</button>

        <form action="/index" method="GET">
          <div class="collapse" id="collapseExample">
            <div class="well">
                <h4>Hold control to select more than one</h4>
                <div class="row">
                  <div class="col-sm-3">
                      <label for="sel1">Species:</label>
                      <select multiple class="form-control" id="sel1" name="species">
                          {% for first_char in all_species: %}
                          {% for species_info in all_species[first_char]: %}
                            <option value="{{species_info.getCommonName()}}">{{species_info.getCommonName()}}</option>
                          {% endfor %}
                        {% endfor %}
                      </select>
                  </div>
                  <div class="col-sm-3">
                      <label for="sel2">Seasonality:</label>
                      <select multiple class="form-control" id="sel2" name="dec_or_evg">
                         {% for dec_or_evg in dec_or_evg_vals: %}
                         <option value="{{dec_or_evg}}">{{dec_or_evg}}</option>
                         {% endfor %}
                      </select>
                  </div>
                  <div class="col-sm-3">
                      <br>
                      <a href="/index"><button type="submit" class="btn btn-primary">Apply Filter</button></a>
                  </div>
                </div>
              </div>   
          </div>
        </form>

     
      <div id="map"> 
      </div>
    </div>
  </div>
</div>

{% include 'map.html' %}
</body>

</html>